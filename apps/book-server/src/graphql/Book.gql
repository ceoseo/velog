type Book {
  id: ID!
  thumbnail: String!
  fk_writer_id: String!
  is_published: Boolean!
  pages: [Page!]!
}

type Query {
  book(input: BookIDInput!): Book
}

type Mutation {
  deploy(input: BookIDInput!): Void! @auth
  build(input: BookIDInput!): Void! @auth
}

type Subscription {
  bookBuildInstalled(input: BookIDInput!): SubScriptionPayload @auth
  bookBuildCompleted(input: BookIDInput!): SubScriptionPayload @auth
  bookDeployCompleted(input: BookIDInput!): SubScriptionPayload @auth
}

input BookIDInput {
  book_id: ID!
}

type SubScriptionPayload {
  message: String!
}
